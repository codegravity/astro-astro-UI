---

//import {  Vimeo, YouTube } from 'astro-embed';
import { Image } from 'astro:assets';
import Button from '@components/ui/Button.astro';


const { content } = Astro.props;
const opacity = content.overlayOpacity ?? 1; // Default opacity if not specified
const myVideo = content.backgroundVideo;
---
<style>
.vimeo-wrapper {
   position: fixed;
   top: 0;
   left: 0;
   width: 100%;
   height: 100%;
   z-index: -1;
   pointer-events: none;
   overflow: hidden;
   background-color: darkmagenta;
   .vimeo-wrapper iframe {
        width: 100vw;
        height: 56.25vw; /* Given a 16:9 aspect ratio, 9/16*100 = 56.25 */
        min-height: 100vh;
        min-width: 177.77vh; /* Given a 16:9 aspect ratio, 16/9*100 = 177.77 */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: chocolate;
    }
}


</style>
<section class="  ">
  
        <div class="absolute inset-0 left-0 top-0 w-full h-full overflow-hidden object-cover "> 
        <!--
        <div class="vimeo-wrapper ">
            <iframe title="vimeo-player" src="https://player.vimeo.com/video/418449134?h=34e925c181?background=1&autoplay=1&loop=1&byline=0&title=0" width="100%" height="100%"  referrerpolicy="strict-origin-when-cross-origin" allow="autoplay; fullscreen;"   allowfullscreen></iframe>
        </div>
        -->  
          <video autoplay loop muted playsinline class="background-video" > 
      <source src={myVideo} type="video/mp4" /> 
   <!--   <source src="https://vimeo.com/418449134?fl=pl&fe=sh " type="video/mp4" /> -->
    <!--  <source src="https://player.vimeo.com/video/418449134?h=34e925c181"     type="video/mp4" /> -->
  <!--    <source src=" https://strapi-cdn-2.s3.eu-north-1.amazonaws.com/dji_mimo_20250606_194738_20250606194739_1749364820154_video.MP4" type="video/mp4" > -->
      <!-- Add more source tags for different video formats -->
     </video> 
            </div> 
            <div class="hero-background absolute inset-0 left-0 top-0 w-full h-full overflow-hidden" style={`opacity: ${opacity};`} ></div>  
   
    <div class="site-container mx-auto px-4 pt-0 pb-40 relative z-10 flex flex-col h-screen md:items-center md:justify-center md:text-center">
        
        {content.descriptionImage && (
            <div class="">
                <Image
                    src={content.descriptionImage}
                    alt="Gravel and Grape"
                    width={486}
                    height={280}
                    class=" "
                    quality={70}
                    format="webp"
                    loading="eager"
                    decoding="async"   
                />
            </div>
        )} 
        <h1 class="text-white text-balance" data-aos="fade-up">{content.title}</h1>
        <p class="text-white mt-2 text-balance" data-aos="fade-up" data-aos-delay="100">{content.description}</p> 
        {content.buttons && content.buttons.length > 0 && (
            <div class="flex flex-wrap gap-4 mt-8" data-aos="fade-up">
                {content.buttons.map((button) => (
                    <Button
                        href={button.link}
                        target={button.target || '_self'}
                        variant={button.variant || 'primary'}
                    >
                        {button.text}
                    </Button>
                ))}
            </div>
        )}
    </div>
</section>
