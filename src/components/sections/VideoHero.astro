---
//import {  Vimeo, YouTube } from 'astro-embed';
import { Image } from 'astro:assets';
import Button from '@components/ui/Button.astro';

const { content } = Astro.props;
const opacity = content.overlayOpacity ?? 1; // Default opacity if not specified
const myVideo = content.backgroundVideo;
const pageLink = content.page;

---


 <!-- <source src={myVideo} type="video/mp4" />  -->
<section class=" ">
  
    <div class=" lg:absolute lg:inset-0 lg:left-0 lg:top-0 lg:w-full h-screen  overflow-hidden  "> 
        <video autoplay loop muted playsinline class=" h-screen min-h-full object-cover "  > 
            {content.page === "about" &&
                <source src={myVideo} type="video/mp4" />
        }
        { content.page === "start" &&
                <source src="https://strapi-cdn-2.s3.eu-north-1.amazonaws.com/winter-start-25.MP4" type="video/mp4" >
                
            }

            {content.page === "tandem" && <source src={myVideo} type="video/mp4" /> }

          
        </video> 
            </div> 
            <div class="hero-background absolute inset-0 left-0 top-0 h-screen  lg:w-full lg:h-full overflow-hidden" style={`opacity: ${opacity};`} ></div>  
   
    <div class="site-container mx-auto px-4 pt-0 pb-40 relative z-10 flex flex-col h-screen md:items-center md:justify-center md:text-center">
        
        {content.descriptionImage && (
            <div class="">
                <Image
                    src={content.descriptionImage}
                    alt="Gravel and Grape"
                    width={486}
                    height={280}
                    class=" "
                    quality={70}
                    format="webp"
                    loading="eager"
                    decoding="async"   
                />
            </div>
        )} 
        <h1 class="text-white text-balance" data-aos="fade-up">{content.title}</h1>
        <p class="text-white mt-2 text-balance" data-aos="fade-up" data-aos-delay="100">{content.description}</p> 
        {content.buttons && content.buttons.length > 0 && (
            <div class="flex flex-wrap gap-4 mt-8" data-aos="fade-up">
                {content.buttons.map((button) => (
                    <Button
                        href={button.link}
                        target={button.target || '_self'}
                        variant={button.variant || 'primary'}
                    >
                        {button.text}
                    </Button>
                ))}
            </div>
        )}
    </div>
</section>
